#!/bin/bash

pkgs=$(checkupdates | wc -l)
aurpkgs=$(cower -u 2> /dev/null | wc -l)

unset msg1
unset msg2
unset packages

if [[ ${pkgs} -gt 0 ]]; then
    msg1="${pkgs} in pacman"
fi 

if [[ ${aurpkgs} -gt 0 ]]; then
    msg2=" ${aurpkgs} in AUR"
fi 

let packages=${pkgs}+${aurpkgs}
if [[ ${packages} -gt 0 ]]; then
    kdialog --title "Out-Of-Date packages" --passivepopup "There are ${packages} outofdated packages (${msg1}${msg2})" 10
fi
